import{r as y,u as K,a as ge,R as i,I as ve,b as n,c as he,g as xe,d as _e,e as be,f as ye,h as we,Q as Pe,i as Oe,A as je,j as S,F as I,k as a,B as Ie,l as J,T as ke,P as Se,G as X,m as Z,L as ee,n as Ce,o as Ee,C as $e,p as M}from"./index-ed74213a.js";import{V as ze}from"./VerifyForm-268c838d.js";import{E as Ne}from"./ErrorBlock-2b216bce.js";import{u as Re}from"./use-form-721559d2.js";import{i as Ge,I as Fe,a as Ae,b as Te}from"./is-email-37029383.js";import{I as Ve}from"./IconMail-ecf3bd8a.js";import{g as j}from"./get-styles-ref-1f22bf7e.js";import{I as Me}from"./InlineInput-516170fd.js";import{I as re}from"./IconArrowNarrowRight-5e7e299d.js";import{H as D}from"./HeaderBlock-c2289573.js";import"./SuccessBlock-d7ef8ef1.js";import"./Title-f1bbc2af.js";const oe=y.createContext(null),De=oe.Provider,Le=()=>y.useContext(oe);var Be=Object.defineProperty,x=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,L=(e,r,o)=>r in e?Be(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,B=(e,r)=>{for(var o in r||(r={}))te.call(r,o)&&L(e,o,r[o]);if(x)for(var o of x(r))ae.call(r,o)&&L(e,o,r[o]);return e},He=(e,r)=>{var o={};for(var t in e)te.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&x)for(var t of x(e))r.indexOf(t)<0&&ae.call(e,t)&&(o[t]=e[t]);return o};const Ue={size:"sm"},se=y.forwardRef((e,r)=>{const o=K("CheckboxGroup",Ue,e),{children:t,value:c,defaultValue:p,onChange:s,size:l,wrapperProps:d}=o,m=He(o,["children","value","defaultValue","onChange","size","wrapperProps"]),[u,w]=ge({value:c,defaultValue:p,finalValue:[],onChange:s}),v=P=>{const g=P.currentTarget.value;w(u.includes(g)?u.filter(E=>E!==g):[...u,g])};return i.createElement(De,{value:{value:u,onChange:v,size:l}},i.createElement(ve.Wrapper,B(B({labelElement:"div",size:l,__staticSelector:"CheckboxGroup",ref:r},d),m),t))});se.displayName="@mantine/core/CheckboxGroup";var We=Object.defineProperty,_=Object.getOwnPropertySymbols,ne=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,H=(e,r,o)=>r in e?We(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,k=(e,r)=>{for(var o in r||(r={}))ne.call(r,o)&&H(e,o,r[o]);if(_)for(var o of _(r))ie.call(r,o)&&H(e,o,r[o]);return e},Qe=(e,r)=>{var o={};for(var t in e)ne.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&_)for(var t of _(e))r.indexOf(t)<0&&ie.call(e,t)&&(o[t]=e[t]);return o};function Ye(e){return i.createElement("svg",k({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function qe(e){var r=e,{indeterminate:o}=r,t=Qe(r,["indeterminate"]);return o?i.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},t),i.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):i.createElement(Ye,k({},t))}var Ke=Object.defineProperty,Je=Object.defineProperties,Xe=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,Ze=Object.prototype.hasOwnProperty,er=Object.prototype.propertyIsEnumerable,W=(e,r,o)=>r in e?Ke(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,Q=(e,r)=>{for(var o in r||(r={}))Ze.call(r,o)&&W(e,o,r[o]);if(U)for(var o of U(r))er.call(r,o)&&W(e,o,r[o]);return e},Y=(e,r)=>Je(e,Xe(r));const rr={xs:n(16),sm:n(20),md:n(24),lg:n(30),xl:n(36)};var or=he((e,{radius:r,color:o,transitionDuration:t,labelPosition:c,error:p,indeterminate:s},{size:l})=>{const d=xe({size:l,sizes:rr}),m=e.fn.variant({variant:"filled",color:o});return{icon:Y(Q({},e.fn.cover()),{ref:j("icon"),color:s?"inherit":e.white,transform:s?"none":`translateY(${n(5)}) scale(0.5)`,opacity:s?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${t}ms`,pointerEvents:"none",width:"60%",position:"absolute",zIndex:1,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}}),inner:{position:"relative",width:d,height:d,order:c==="left"?2:1},input:Y(Q({},e.fn.focusStyles()),{appearance:"none",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`${n(1)} solid ${p?e.fn.variant({variant:"filled",color:"red"}).background:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,width:d,height:d,borderRadius:e.fn.radius(r),padding:0,display:"block",margin:0,transition:`border-color ${t}ms ease, background-color ${t}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:m.background,borderColor:m.background,[`& + .${j("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",pointerEvents:"none",[`& + .${j("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5]}}})}});const tr=or;var ar=Object.defineProperty,b=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable,q=(e,r,o)=>r in e?ar(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,h=(e,r)=>{for(var o in r||(r={}))le.call(r,o)&&q(e,o,r[o]);if(b)for(var o of b(r))ce.call(r,o)&&q(e,o,r[o]);return e},sr=(e,r)=>{var o={};for(var t in e)le.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&b)for(var t of b(e))r.indexOf(t)<0&&ce.call(e,t)&&(o[t]=e[t]);return o};const nr={size:"sm",transitionDuration:100,icon:qe,labelPosition:"right"},C=y.forwardRef((e,r)=>{const o=K("Checkbox",nr,e),{className:t,style:c,sx:p,checked:s,disabled:l,color:d,label:m,indeterminate:u,id:w,size:v,radius:P,wrapperProps:g,children:E,classNames:$,styles:z,transitionDuration:de,icon:pe,unstyled:N,labelPosition:R,description:ue,error:G,variant:F}=o,fe=sr(o,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error","variant"]),f=Le(),A=_e(w),{systemStyles:me,rest:T}=be(fe),{classes:O}=tr({radius:P,color:d,transitionDuration:de,labelPosition:R,error:!!G,indeterminate:u},{name:"Checkbox",classNames:$,styles:z,unstyled:N,variant:F,size:(f==null?void 0:f.size)||v}),V=f?{checked:f.value.includes(T.value),onChange:f.onChange}:{};return i.createElement(Me,h(h({className:t,sx:p,style:c,id:A,size:(f==null?void 0:f.size)||v,labelPosition:R,label:m,description:ue,error:G,disabled:l,__staticSelector:"Checkbox",classNames:$,styles:z,unstyled:N,"data-checked":V.checked||void 0,variant:F},me),g),i.createElement("div",{className:O.inner},i.createElement("input",h(h({id:A,ref:r,type:"checkbox",className:O.input,checked:s,disabled:l},T),V)),i.createElement(pe,{indeterminate:u,className:O.icon})))});C.displayName="@mantine/core/Checkbox";C.Group=se;const ir=({email:e,password:r,rememberMe:o})=>Oe({url:je.AUTH.SIGN_IN,data:{email:e,password:r,remember:o}}),lr=()=>{const e=ye();return we({networkMode:"offlineFirst",mutationFn:ir,onSuccess:r=>{e.setQueryData([Pe.USER],r)}})},cr=()=>{const{t:e}=S("translation",{keyPrefix:"auth"});return{form:Re({initialValues:{email:"",password:"",rememberMe:!1},validate:{email:Ge(e("email.error")),password:o=>o.length<I.PASSWORD_MIN_LENGTH?e("password.error",{count:I.PASSWORD_MIN_LENGTH}):null}})}},dr=()=>{const{t:e}=S("translation",{keyPrefix:"auth"}),{form:r}=cr(),{reset:o,isLoading:t,error:c,mutate:p}=lr();return a.jsxs(a.Fragment,{children:[c&&a.jsx(Ne,{reset:o,children:c}),a.jsx(Ie,{mt:"md",children:a.jsx("form",{onSubmit:r.onSubmit(s=>p(s)),children:a.jsxs(J,{direction:"column",gap:"lg",children:[a.jsx(ke,{withAsterisk:!0,disabled:t,label:e("email.label"),icon:a.jsx(Ve,{size:"1rem"}),placeholder:`${e("email.placeholder")}`,...r.getInputProps("email")}),a.jsx(Se,{withAsterisk:!0,disabled:t,label:e("password.label"),icon:a.jsx(Fe,{size:"1rem"}),...r.getInputProps("password"),placeholder:`${e("password.placeholder",{count:I.PASSWORD_MIN_LENGTH})}`,visibilityToggleIcon:({reveal:s,size:l})=>s?a.jsx(Ae,{size:l}):a.jsx(Te,{size:l})}),a.jsxs(X,{position:"apart",children:[a.jsx(C,{label:e("remember.label"),radius:"sm",...r.getInputProps("rememberMe"),disabled:t}),a.jsxs(Z,{size:"sm",component:ee,to:"/password-reset",sx:{display:"flex",alignItems:"center",gap:n(2)},children:[e("password-reset.title")," ",a.jsx(re,{size:n(12)})]})]}),a.jsx(Ce,{fullWidth:!0,size:"lg",type:"submit",loading:t,children:e("sign-in.submit")})]})})})]})},Pr=()=>{const{email:e,verify:r}=Ee(),{t:o}=S("translation",{keyPrefix:"auth"});return a.jsx($e,{maw:420,h:"100%",py:"lg",children:a.jsxs(J,{direction:"column",justify:"center",h:"100%",children:[!e&&a.jsxs(a.Fragment,{children:[a.jsx(D,{title:o("sign-in.title"),children:a.jsxs(X,{position:"apart",children:[a.jsx(M,{color:"dimmed",size:"sm",children:o("sign-in.subtitle")}),a.jsxs(Z,{size:"sm",component:ee,to:"/sign-up",sx:{display:"flex",alignItems:"center",gap:n(2)},children:[o("sign-up.title")," ",a.jsx(re,{size:n(12)})]})]})}),a.jsx(dr,{})]}),e&&!r&&a.jsxs(a.Fragment,{children:[a.jsx(D,{title:o("verify.title"),children:a.jsx(M,{size:"sm",align:"center",color:"dimmed",children:o("verify.subtitle")})}),a.jsx(ze,{})]})]})})};export{Pr as default};
