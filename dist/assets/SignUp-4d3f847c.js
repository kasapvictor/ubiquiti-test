import{q as me,_ as ve,w as ye,s as de,r as E,t as ee,v as D,x as T,y as te,z as he,f as ge,h as xe,Q as be,i as je,A as Oe,j as C,F as H,k as i,B as we,l as re,T as R,P as W,n as Ee,D as Pe,p as B,o as ke,C as Se,G as Ie,m as Ae,L as Fe,b as G}from"./index-ed74213a.js";import{V as Te}from"./VerifyForm-268c838d.js";import{E as Ne}from"./ErrorBlock-2b216bce.js";import{u as Ue}from"./use-form-721559d2.js";import{i as De,I as q,a as Q,b as Y}from"./is-email-37029383.js";import{m as Ke}from"./matches-field-125e59be.js";import{I as $e}from"./IconMail-ecf3bd8a.js";import{H as J}from"./HeaderBlock-c2289573.js";import{I as He}from"./IconArrowNarrowRight-5e7e299d.js";import"./SuccessBlock-d7ef8ef1.js";import"./Title-f1bbc2af.js";var Be=me("user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);function V(e,r){if(e==null)return{};var t=ve(e,r),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var Ce={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Ve=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function X(e){var r={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=e.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(r.name=t[1],(Ce[t[1]]||e.charAt(e.length-2)==="/")&&(r.voidElement=!0),r.name.startsWith("!--"))){var n=e.indexOf("-->");return{type:"comment",comment:n!==-1?e.slice(4,n):""}}for(var a=new RegExp(Ve),s=null;(s=a.exec(e))!==null;)if(s[0].trim())if(s[1]){var l=s[1].trim(),f=[l,""];l.indexOf("=")>-1&&(f=l.split("=")),r.attrs[f[0]]=f[1],a.lastIndex--}else s[2]&&(r.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return r}var ze=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Me=/^\s*$/,Le=Object.create(null);function ne(e,r){switch(r.type){case"text":return e+r.content;case"tag":return e+="<"+r.name+(r.attrs?function(t){var n=[];for(var a in t)n.push(a+'="'+t[a]+'"');return n.length?" "+n.join(" "):""}(r.attrs):"")+(r.voidElement?"/>":">"),r.voidElement?e:e+r.children.reduce(ne,"")+"</"+r.name+">";case"comment":return e+"<!--"+r.comment+"-->"}}var Re={parse:function(e,r){r||(r={}),r.components||(r.components=Le);var t,n=[],a=[],s=-1,l=!1;if(e.indexOf("<")!==0){var f=e.indexOf("<");n.push({type:"text",content:f===-1?e:e.substring(0,f)})}return e.replace(ze,function(v,b){if(l){if(v!=="</"+t.name+">")return;l=!1}var j,O=v.charAt(1)!=="/",P=v.startsWith("<!--"),h=b+v.length,x=e.charAt(h);if(P){var S=X(v);return s<0?(n.push(S),n):((j=a[s]).children.push(S),n)}if(O&&(s++,(t=X(v)).type==="tag"&&r.components[t.name]&&(t.type="component",l=!0),t.voidElement||l||!x||x==="<"||t.children.push({type:"text",content:e.slice(h,e.indexOf("<",h))}),s===0&&n.push(t),(j=a[s-1])&&j.children.push(t),a[s]=t),(!O||t.voidElement)&&(s>-1&&(t.voidElement||t.name===v.slice(2,-1))&&(s--,t=s===-1?n:a[s]),!l&&x!=="<"&&x)){j=s===-1?n:a[s].children;var p=e.indexOf("<",h),d=e.slice(h,p===-1?void 0:p);Me.test(d)&&(d=" "),(p>-1&&s+j.length>=0||d!==" ")&&j.push({type:"text",content:d})}}),n},stringify:function(e){return e.reduce(function(r,t){return r+ne("",t)},"")}},We=["format"],Ge=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function Z(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Z(Object(t),!0).forEach(function(n){ee(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function K(e,r){if(!e)return!1;var t=e.props?e.props.children:e.children;return r?t.length>0:!!t}function $(e){return e?e.props?e.props.children:e.children:[]}function qe(e){return Object.prototype.toString.call(e)!=="[object Array]"?!1:e.every(function(r){return E.isValidElement(r)})}function N(e){return Array.isArray(e)?e:[e]}function Qe(e,r){var t=y({},r);return t.props=Object.assign(e.props,r.props),t}function se(e,r){if(!e)return"";var t="",n=N(e),a=r.transSupportBasicHtmlNodes&&r.transKeepBasicHtmlNodesFor?r.transKeepBasicHtmlNodesFor:[];return n.forEach(function(s,l){if(typeof s=="string")t+="".concat(s);else if(E.isValidElement(s)){var f=Object.keys(s.props).length,v=a.indexOf(s.type)>-1,b=s.props.children;if(!b&&v&&f===0)t+="<".concat(s.type,"/>");else if(!b&&(!v||f!==0))t+="<".concat(l,"></").concat(l,">");else if(s.props.i18nIsDynamicList)t+="<".concat(l,"></").concat(l,">");else if(v&&f===1&&typeof b=="string")t+="<".concat(s.type,">").concat(b,"</").concat(s.type,">");else{var j=se(b,r);t+="<".concat(l,">").concat(j,"</").concat(l,">")}}else if(s===null)D("Trans: the passed in value is invalid - seems you passed in a null child.");else if(T(s)==="object"){var O=s.format,P=V(s,We),h=Object.keys(P);if(h.length===1){var x=O?"".concat(h[0],", ").concat(O):h[0];t+="{{".concat(x,"}}")}else D("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",s)}else D("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",s)}),t}function Ye(e,r,t,n,a,s){if(r==="")return[];var l=n.transKeepBasicHtmlNodesFor||[],f=r&&new RegExp(l.join("|")).test(r);if(!e&&!f)return[r];var v={};function b(p){var d=N(p);d.forEach(function(c){typeof c!="string"&&(K(c)?b($(c)):T(c)==="object"&&!E.isValidElement(c)&&Object.assign(v,c))})}b(e);var j=Re.parse("<0>".concat(r,"</0>")),O=y(y({},v),a);function P(p,d,c){var u=$(p),w=x(u,d.children,c);return qe(u)&&w.length===0?u:w}function h(p,d,c,u,w){p.dummy&&(p.children=d),c.push(E.cloneElement(p,y(y({},p.props),{},{key:u}),w?void 0:d))}function x(p,d,c){var u=N(p),w=N(d);return w.reduce(function(g,o,k){var A=o.children&&o.children[0]&&o.children[0].content&&t.services.interpolator.interpolate(o.children[0].content,O,t.language);if(o.type==="tag"){var I=u[parseInt(o.name,10)];!I&&c.length===1&&c[0][o.name]&&(I=c[0][o.name]),I||(I={});var m=Object.keys(o.attrs).length!==0?Qe({props:o.attrs},I):I,F=E.isValidElement(m),U=F&&K(o,!0)&&!o.voidElement,ae=f&&T(m)==="object"&&m.dummy&&!F,oe=T(e)==="object"&&e!==null&&Object.hasOwnProperty.call(e,o.name);if(typeof m=="string"){var ie=t.services.interpolator.interpolate(m,O,t.language);g.push(ie)}else if(K(m)||U){var le=P(m,o,c);h(m,le,g,k)}else if(ae){var ce=x(u,o.children,c);g.push(E.cloneElement(m,y(y({},m.props),{},{key:k}),ce))}else if(Number.isNaN(parseFloat(o.name)))if(oe){var pe=P(m,o,c);h(m,pe,g,k,o.voidElement)}else if(n.transSupportBasicHtmlNodes&&l.indexOf(o.name)>-1)if(o.voidElement)g.push(E.createElement(o.name,{key:"".concat(o.name,"-").concat(k)}));else{var ue=x(u,o.children,c);g.push(E.createElement(o.name,{key:"".concat(o.name,"-").concat(k)},ue))}else if(o.voidElement)g.push("<".concat(o.name," />"));else{var fe=x(u,o.children,c);g.push("<".concat(o.name,">").concat(fe,"</").concat(o.name,">"))}else if(T(m)==="object"&&!F){var z=o.children[0]?A:null;z&&g.push(z)}else o.children.length===1&&A?g.push(E.cloneElement(m,y(y({},m.props),{},{key:k}),A)):g.push(E.cloneElement(m,y(y({},m.props),{},{key:k})))}else if(o.type==="text"){var M=n.transWrapTextNodes,L=s?n.unescape(t.services.interpolator.interpolate(o.content,O,t.language)):t.services.interpolator.interpolate(o.content,O,t.language);M?g.push(E.createElement(M,{key:"".concat(o.name,"-").concat(k)},L)):g.push(L)}return g},[])}var S=x([{dummy:!0,children:e||[]}],j,N(e||[]));return $(S[0])}function Je(e){var r=e.children,t=e.count,n=e.parent,a=e.i18nKey,s=e.context,l=e.tOptions,f=l===void 0?{}:l,v=e.values,b=e.defaults,j=e.components,O=e.ns,P=e.i18n,h=e.t,x=e.shouldUnescape,S=V(e,Ge),p=P||te();if(!p)return ye("You will need to pass in an i18next instance by using i18nextReactModule"),r;var d=h||p.t.bind(p)||function(U){return U};s&&(f.context=s);var c=y(y({},de()),p.options&&p.options.react),u=O||d.ns||p.options&&p.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"];var w=b||se(r,c)||c.transEmptyNodeValue||a,g=c.hashTransKey,o=a||(g?g(w):w),k=v?f.interpolation:{interpolation:y(y({},f.interpolation),{},{prefix:"#$?",suffix:"?$#"})},A=y(y(y(y({},f),{},{count:t},v),k),{},{defaultValue:w,ns:u}),I=o?d(o,A):w,m=Ye(j||r,I,p,c,A,x),F=n!==void 0?n:c.defaultTransParent;return F?E.createElement(F,S,m):m}var Xe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function _(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Ze(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?_(Object(t),!0).forEach(function(n){ee(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _e(e){var r=e.children,t=e.count,n=e.parent,a=e.i18nKey,s=e.context,l=e.tOptions,f=l===void 0?{}:l,v=e.values,b=e.defaults,j=e.components,O=e.ns,P=e.i18n,h=e.t,x=e.shouldUnescape,S=V(e,Xe),p=E.useContext(he)||{},d=p.i18n,c=p.defaultNS,u=P||d||te(),w=h||u&&u.t.bind(u);return Je(Ze({children:r,count:t,parent:n,i18nKey:a,context:s,tOptions:f,values:v,defaults:b,components:j,ns:O||w&&w.ns||c||u&&u.options&&u.options.defaultNS,i18n:u,t:h,shouldUnescape:x},S))}const et=({name:e,email:r,password:t,passwordConfirmation:n})=>je({url:Oe.AUTH.SIGN_UP,data:{name:e,email:r,password:t,password_confirmation:n}}),tt=()=>{const e=ge();return xe({mutationFn:et,networkMode:"offlineFirst",onSuccess:r=>{e.setQueryData([be.USER],r)}})},rt=()=>{const{t:e}=C("translation",{keyPrefix:"auth"});return{form:Ue({initialValues:{name:"",email:"",password:"",passwordConfirmation:""},validate:{name:t=>t.length?null:"Required field",email:De(e("email.error")),password:t=>t.length<H.PASSWORD_MIN_LENGTH?e("password.error",{count:H.PASSWORD_MIN_LENGTH}):null,passwordConfirmation:Ke("password",e("password.confirm.error"))}})}},nt=()=>{const{form:e}=rt(),{isLoading:r,error:t,mutate:n}=tt(),{t:a}=C("translation",{keyPrefix:"auth"});return i.jsxs(i.Fragment,{children:[t&&i.jsx(Ne,{children:t}),i.jsx(we,{mt:"md",children:i.jsx("form",{onSubmit:e.onSubmit(s=>n(s)),children:i.jsxs(re,{direction:"column",gap:"lg",children:[i.jsx(R,{disabled:r,label:a("name.label"),icon:i.jsx(Be,{size:"1rem"}),placeholder:`${a("name.placeholder")}`,...e.getInputProps("name")}),i.jsx(R,{withAsterisk:!0,disabled:r,label:a("email.label"),icon:i.jsx($e,{size:"1rem"}),placeholder:`${a("email.placeholder")}`,...e.getInputProps("email")}),i.jsx(W,{withAsterisk:!0,disabled:r,label:a("password.label"),icon:i.jsx(q,{size:"1rem"}),...e.getInputProps("password"),placeholder:`${a("password.placeholder",{count:H.PASSWORD_MIN_LENGTH})}`,visibilityToggleIcon:({reveal:s,size:l})=>s?i.jsx(Q,{size:l}):i.jsx(Y,{size:l})}),i.jsx(W,{withAsterisk:!0,disabled:r,icon:i.jsx(q,{size:"1rem"}),label:a("password.confirm.label"),...e.getInputProps("passwordConfirmation"),placeholder:`${a("password.confirm.placeholder")}`,visibilityToggleIcon:({reveal:s,size:l})=>s?i.jsx(Q,{size:l}):i.jsx(Y,{size:l})}),i.jsx(Ee,{fullWidth:!0,size:"lg",type:"submit",loading:r,children:a("sign-up.submit")}),i.jsx(Pe,{children:i.jsx(B,{size:"xs",color:"dimmed",children:i.jsx(_e,{t:a,i18nKey:"agreement",components:[i.jsx("a",{href:"#"},"terms"),i.jsx("a",{href:"#"},"privacy")]})})})]})})})]})},yt=()=>{const{email:e,verify:r}=ke(),{t}=C("translation",{keyPrefix:"auth"});return i.jsx(Se,{maw:420,h:"100%",py:"lg",children:i.jsxs(re,{direction:"column",justify:"center",h:"100%",children:[!e&&i.jsxs(i.Fragment,{children:[i.jsx(J,{title:t("sign-up.title"),children:i.jsxs(Ie,{position:"apart",children:[i.jsx(B,{color:"dimmed",size:"sm",children:t("sign-up.subtitle")}),i.jsxs(Ae,{size:"sm",component:Fe,to:"/sign-in",sx:{display:"flex",alignItems:"center",gap:G(2)},children:[t("sign-in.title")," ",i.jsx(He,{size:G(12)})]})]})}),i.jsx(nt,{})]}),e&&!r&&i.jsxs(i.Fragment,{children:[i.jsx(J,{title:t("verify.title"),children:i.jsx(B,{size:"sm",align:"center",color:"dimmed",children:t("verify.subtitle")})}),i.jsx(Te,{})]})]})})};export{yt as default};
